<ion-header class="ion-no-border">
  <ion-toolbar>
    <ion-title>{{gameName}} Waiting List</ion-title>
  </ion-toolbar>
</ion-header>
<ion-content>
  <ion-grid class="header">
    <ion-row>
      <ion-col size="3">
        <div class="duration">
          Game Duration :
          <div class="duration_child">{{gameDuration}} Min</div>
        </div>
      </ion-col>
      <ion-col size="3" class="center">
        <div class="duration">
          Player Count :
          <div class="duration_child">{{playerCount}}</div>
        </div>
      </ion-col>
      <ion-col size="4">
        <div class="duration">
          Approx Waiting Time :
          <div class="duration_child" id="open-custom-dialog">
            {{approxTimeToDisplay}} Hours
          </div>
        </div>
      </ion-col>
    </ion-row>
  </ion-grid>

  <ion-grid *ngFor="let data of slots ; let i = index" class="slot">
    <ion-row class="slot_border">
      <ion-col size="3" class="start">Slot {{i+1}}</ion-col>
      <ion-col size="3" class="start">{{data.totalPlayers}}/{{data.maxPlayer}}/{{data.arrivedPlayers}}</ion-col>
      <ion-col size="3" class="start">{{gameDuration}} min</ion-col>
      <ion-col size="3" class="end">
        <ion-button fill="clear" size="small">Notify</ion-button>
        <ion-button fill="clear" size="small" (click)="openDialog(i,data.id)">+</ion-button>
        <ion-button fill="clear" size="small" (click)="registerAndAllocatePlayer(i)">
          <ion-icon slot="icon-only"  src="assets/playButton.svg"></ion-icon>
        </ion-button>
      </ion-col>
    </ion-row>
    <ion-row class="slot_border">
      <ion-col size="3" class="start">Player Name</ion-col>
      <ion-col size="3" class="start">Phone No.</ion-col>
      <ion-col size="3" class="start">Players</ion-col>
      <ion-col class="end" size="3">Quick Access</ion-col>
    </ion-row>

    <ion-row *ngFor="let item of data.players ; let j = index">
      <ion-col size="3" class="start">{{getPlayerName(item)}}</ion-col>
      <ion-col size="3" class="start">{{getPlayerNumber(item)}}</ion-col>
      <ion-col size="1.5" class="start">{{getPlayerCount(item)}}</ion-col>
      <ion-col class="end" size="4.5">
        <ion-button fill="clear" size="small">Notify</ion-button>
        <ion-button fill="clear" size="small">Arrived</ion-button>
        <ion-button fill="clear" size="small" *ngIf="i!==0">Up</ion-button>
        <ion-button fill="clear" size="small" *ngIf="i!==(slots.length)">Down</ion-button>
      </ion-col>
    </ion-row>
  </ion-grid>
  <div *ngIf="slots.length === 0" class="not_found">
    <ion-img src="assets/not-found.png" style="width: 5%; height: 5%"></ion-img>
  </div>
  <ion-fab class="fab" slot="fixed" vertical="bottom" horizontal="end">
    <ion-fab-button (click)="createSlot()">
      <ion-icon src="assets/add.svg"></ion-icon>
    </ion-fab-button>
  </ion-fab>
</ion-content>
